[English](./doc/readme.en.md) | ä¸­æ–‡ | [Plugin Development Guide](./doc/plugin-dev.en.md) | [æ’ä»¶å¼€å‘æŒ‡å—](./doc/plugin-dev.cn.md)

# librime-qjs

ä¸º Rime è¾“å…¥æ³•å¼•æ“å¸¦æ¥æµ©ç€šçš„ JavaScript æ’ä»¶ç”Ÿæ€ï¼Œä»¥é—ªç”µèˆ¬çš„é€Ÿåº¦å’Œç¾½æ¯›èˆ¬çš„è½»ç›ˆï¼Œè®©è¾“å…¥ä½“éªŒç„•ç„¶ä¸€æ–°ï¼

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”Œ ä¸º [Rime è¾“å…¥æ³•å¼•æ“](https://github.com/rime/librime) å¸¦æ¥å¼ºå¤§çš„ JavaScript æ’ä»¶ç”Ÿæ€ã€‚
  - ğŸ® è®© JavaScript å°½æƒ…å‘æŒ¥ï¼Œæ‰€æœ‰ Rime å¼•æ“çš„ç²¾ååŠŸèƒ½éƒ½å·²ä¸ºæ‚¨ç²¾å¿ƒå¤‡å¦¥ã€‚
  - âœ¨ è¿˜åœ¨ä¸ºç¼–å†™ä»£ç è°ƒè¯•ç¨‹åºç»å°½è„‘æ±ï¼Ÿ NPM ä»“åº“ç¾¤æ˜ŸèŸèƒï¼Œåº”æœ‰å°½æœ‰ã€‚
  - ğŸ‘€ çœ‹çœ‹æˆ‘ä»¬çš„å®åŠ›ï¼[ç™½éœœæ‹¼éŸ³](https://github.com/gaboolic/rime-frost) çš„æ‰€æœ‰ Lua æ’ä»¶éƒ½å·²å®Œç¾é‡å†™ä¸º [JavaScript ç‰ˆæœ¬](https://github.com/HuangJian/rime-frost/tree/hj/js)ã€‚
  - ğŸ“ è´´å¿ƒæä¾› [JavaScript ç±»å‹å®šä¹‰](./contrib/rime.d.ts)ï¼Œè®©æ’ä»¶å¼€å‘ä½“éªŒå¦‚ä¸èˆ¬é¡ºæ»‘ã€‚
  - ğŸ”„ ç®€å•çµæ´»çš„[ç±»å‹ç»‘å®šæ¨¡æ¿](./src/helpers/qjs_macros.h)ï¼Œè®© JavaScript å’Œ Rime å¼•æ“å®Œç¾é…åˆã€‚
- ğŸš€ åŸºäº [QuickJS-NG](https://github.com/quickjs-ng/quickjs) æ‰“é€ çš„è½»é‡çº§ JavaScript å¼•æ“ã€‚
  - ğŸ’ª ç•…äº«æœ€æ–° ECMAScript ç‰¹æ€§ï¼šæ­£åˆ™è¡¨è¾¾å¼ã€Unicodeã€ESMã€big numberï¼Œåº”æœ‰å°½æœ‰ï¼
  - ğŸš„ è¿è¡Œé€Ÿåº¦å¿«å¾—æƒŠäººï¼šæ‰€æœ‰æ’ä»¶å‡æ¯«ç§’çº§å“åº”ã€‚
  - ğŸª¶ å†…å­˜å ç”¨å°å¾—ä¸å¯æ€è®®ï¼š<20MBï¼
- ğŸ“š ä¸ºå¤§å‹è¯å…¸é‡èº«æ‰“é€ çš„ Trie ç»“æ„ã€‚
  - ğŸ’¥ è¯å…¸åŠ è½½å¿«å¦‚é—ªç”µï¼š11 ä¸‡è¯æ¡çš„[æ±‰è¯‘è‹±è¯å…¸](https://www.mdbg.net/chinese/dictionary?page=cc-cedict)ï¼Œè½¬ä¸ºäºŒè¿›åˆ¶æ ¼å¼åï¼ŒåŠ è½½å®Œæˆä»…éœ€ 20msã€‚
  - ğŸ¯ ç²¾ç¡®æŸ¥æ‰¾é€Ÿå¦‚ç®­çŸ¢ï¼š11 ä¸‡è¯æ¡çš„æ±‰è¯‘è‹±è¯å…¸ï¼Œç²¾ç¡®æŸ¥æ‰¾ 200 ä¸ªæ±‰è¯­è¯è¯­çš„è‹±æ–‡é‡Šä¹‰ä¸åˆ° 5msã€‚
  - ğŸŒªï¸ å‰ç¼€æœç´¢è¿…å¦‚ç–¾é£ï¼š6 ä¸‡è¯æ¡çš„[è‹±è¯‘æ±‰è¯å…¸](https://github.com/skywind3000/ECDICT)ï¼Œæœç´¢å‰ç¼€åŒ¹é…çš„è‹±æ–‡å•è¯åŠå…¶æ±‰è¯­ç¿»è¯‘ä»…éœ€ 1~3msã€‚
- ğŸ—¡ï¸ æ‰€æœ‰ JavaScript æ’ä»¶ä¸€æ¬¡åŠ è½½åˆ°å¤„å¯ç”¨ï¼Œè®©è¾“å…¥æ³•ä¼šè¯åˆ‡æ¢è½»æ¾æ´’è„±ã€‚
  - ğŸ‰ åˆ‡æ¢è¾“å…¥æ³•æ—¶åŠ è½½å¤§å‹æ’ä»¶å¡é¡¿ä¸¥é‡ï¼Ÿç°åœ¨æˆ‘ä»¬ä¸€åŠ³æ°¸é€¸ï¼
  - ğŸš€ åœ¨ä¸åŒåº”ç”¨é—´æ²‰æµ¸å¼å†™ä½œï¼Ÿæ’ä»¶æ—©å·²å‡†å¤‡å°±ç»ªï¼
- ğŸ›¡ï¸ åŒå‰‘åˆç’§ï¼šC++ å’Œ JavaScript çš„å•å…ƒæµ‹è¯•ã€‚
  - âœ… æ¯ä¸ª Rime API éƒ½ç»è¿‡ä¸¥æ ¼çš„ [C++ æµ‹è¯•](./tests/)ã€‚
  - ğŸ§ª JavaScript æ’ä»¶ï¼Ÿéšå¿ƒæ‰€æ¬²åœ°ç”¨ qjs/nodejs/bun/deno [æ‰§è¡Œæµ‹è¯•](https://github.com/HuangJian/rime-frost/tree/hj/js/tests)ã€‚

## TODO

- [ ] æ›´å¤š JavaScript å¼•æ“æ”¯æŒï¼ˆPR Welcomeï¼‰
  - [ ] JavaScriptCore on macOS/iOS
    - macOS/iOS ç³»ç»Ÿå†…ç½®
    - æ€§èƒ½æœ€ä¼˜çš„ JavaScript å¼•æ“
  - [ ] åŸºäºå·²å®‰è£…çš„ nodejs/deno ä½¿ç”¨ V8 å¼•æ“

## [JavaScript æ’ä»¶å¼€å‘æŒ‡å—](./doc/plugin-dev.cn.md)


## libRime-qjs å¼€å‘è¯´æ˜

- [build on macOS](./doc/build-macos.md)
- [build on Linux](./doc/build-linux.md)
